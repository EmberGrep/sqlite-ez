<div class="container">
  <div class="row">
    <h1>
      SQLite EZ
      <button class="btn btn-primary" {{action 'openFile'}}>Open Database</button>
      <button class="btn btn-primary" {{action 'createFile'}}>Create Database</button>
    </h1>

    {{#if dbPath}}
      <h2>Currently Open: <code>{{dbPath}}</code></h2>
    {{/if}}
  </div>

  <div class="row">
    {{#if errMsg}}
      {{#bs-alert type="danger"}}{{errMsg}}{{/bs-alert}}
    {{/if}}

    {{#if successMsg}}
      {{#bs-alert type="success"}}{{successMsg}}{{/bs-alert}}
    {{/if}}

    {{#if loading}}
      {{#bs-alert type="info"}}Loading Query Results...{{/bs-alert}}
    {{/if}}
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-xs-6">
      {{#if db}}
        <form {{action "submitQuery" query on="submit"}}>
          <div class="row">
            {{ivy-codemirror
              mode="sql"
              value=query
              lineNumbers=true
              fixedGutter=true
              lineWrapping=true
              tabSize=2
              smartIndent=true
              theme="solarized"}}
          </div>
          <div class="row">
            <button class="btn btn-primary">Submit</button>
          </div>
        </form>
      {{/if}}
    </div>

    <div class="col-xs-6">
      {{#if results}}
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              {{#each-in firstItem as |key value|}}
                <th>{{key}}</th>
              {{/each-in}}
            </tr>
          </thead>
          <tbody>
            {{#each results as |result|}}
              <tr>
                {{#each-in result as |key value|}}
                  <td>{{value}}</td>
                {{/each-in}}
              </tr>
            {{/each}}
          </tbody>
        </table>
      {{/if}}</div>
  </div>
</div>
