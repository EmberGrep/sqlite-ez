<div class="container">
  <nav class="top-nav">
    <ul class="top-nav-list">
      <li class="top-nav-list__item top-nav-list__item--brand">
        <h1 class="nav-brand">
          SQLite EZ
        </h1>
      </li>
      <li class="top-nav-list__item">
        <button class="file-btn" {{action 'createFile'}}>Create Database</button>
      </li>
      <li class="top-nav-list__item">
        <button class="file-btn" {{action 'openFile'}}>Open Database</button>
      </li>
    </ul>

  </nav>

  {{#if dbPath}}
    <h2 class="file-status">Currently Open: <code class="file-status__path">{{dbPath}}</code></h2>
  {{else}}
    <h2 class="file-status file-status--error">No database is currently open.</h2>
  {{/if}}

  <div class="row">
    {{#if errMsg}}
      {{#bs-alert type="danger"}}{{errMsg}}{{/bs-alert}}
    {{/if}}

    {{#if successMsg}}
      {{#bs-alert type="success"}}{{successMsg}}{{/bs-alert}}
    {{/if}}

    {{#if loading}}
      {{#bs-alert type="info"}}Loading Query Results...{{/bs-alert}}
    {{/if}}
  </div>

  <div class="row">
    <div class="col-xs-6">
      {{#if db}}
        <form {{action "submitQuery" query on="submit"}}>
          <div class="row">
            {{ivy-codemirror
              mode="sql"
              value=query
              lineNumbers=true
              fixedGutter=true
              lineWrapping=true
              tabSize=2
              smartIndent=true
              theme="solarized"}}
          </div>
          <div class="row">
            <button class="btn btn-primary">Submit</button>
          </div>
        </form>
      {{/if}}
    </div>

    <div class="col-xs-6 results-pane">
      {{#if results}}
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              {{#each-in firstItem as |key value|}}
                <th>{{key}}</th>
              {{/each-in}}
            </tr>
          </thead>
          <tbody>
            {{#each results as |result|}}
              <tr>
                {{#each-in result as |key value|}}
                  <td>{{value}}</td>
                {{/each-in}}
              </tr>
            {{/each}}
          </tbody>
        </table>
      {{/if}}</div>
  </div>
</div>
